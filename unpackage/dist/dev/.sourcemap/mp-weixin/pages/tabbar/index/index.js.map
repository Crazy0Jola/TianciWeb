{"version":3,"sources":["webpack:///E:/天赐/TianciWeb/main.js","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?e66e","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?51ff","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?a9a7","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?10b3","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?0461","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?7c9c","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?2ed7","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?54d2"],"names":["createPage","Page","_this","JIM","getApp","globalData","components","freeNavBar","freeMediaList","freePopup","data","propIndex","menus","name","event","list","onLoad","uni","$on","isLogin","getConversation","onSuccess","console","log","JSON","stringify","conversations","reverse","onFail","showToast","code","onUnload","$off","onShow","hideLoading","value","getStorageSync","isInit","login","username","password","appkey","random_str","timestamp","Date","getTime","signature","request","url","header","success","res","result","init","computed","getMenusHeight","H","length","getMenusStyle","isTop","mounted","methods","showLoading","title","onMsgReceive","i","messages","content","type","msg_type","latest_msg","gid","msg_body","text","extras","isAudio","isVideo","from_username","push","setStorageSync","getResource","media_id","downloadFile","statusCode","saveFile","tempFilePath","savedFilePath","plus","io","convertLocalFileSystemURL","$emit","updateConversation","from_gid","onEventNotification","onSyncConversation","last_content","msgs","j","conversationTimer","setTimeout","clearTimeout","onUserInfUpdate","onSyncEvent","onMsgReceiptChange","onSyncMsgReceipt","onMutiUnreadMsgUpdate","onTransMsgRec","onRoomMsg","icon","position","onTimeout","reLaunch","e","long","x","y","index","item","$refs","extend","show","clickEvent","setTop","delChat","hide","splice"],"mappings":"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","file":"pages/tabbar/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/tabbar/index/index.nvue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./index.nvue?vue&type=template&id=db26057c&\"\nimport script from \"./index.nvue?vue&type=script&lang=js&\"\nexport * from \"./index.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./index.nvue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./index.nvue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('db26057c', component.options)\n    } else {\n      api.reload('db26057c', component.options)\n    }\n    module.hot.accept(\"./index.nvue?vue&type=template&id=db26057c&\", function () {\n      api.rerender('db26057c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"天赐/TianciWeb/pages/tabbar/index/index.nvue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=template&id=db26057c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.list, function(item, index) {\n    var m0 = _vm.isTop(item.gid || item.username)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.list, function(item, index) {\n    var m1 = _vm.isTop(item.gid || item.username)\n    return {\n      $orig: _vm.__get_orig(item),\n      m1: m1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport freeNavBar from \"@/components/free-ui/free-nav-bar.vue\"\n\timport freeMediaList from \"@/components/free-ui/free-media-list.vue\"\n\timport getCodeMsg from \"@/js_sdk/ErrorCode.js\"\n\timport freePopup from \"@/components/free-ui/free-popup.vue\"\n\t\n\tvar _this;\n\tvar JIM=getApp().globalData.JIM;\n\texport default {\n\t\tcomponents:{\n\t\t\tfreeNavBar,\n\t\t\tfreeMediaList,\n\t\t\tfreePopup\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpropIndex:-1,\n\t\t\t\tmenus:[\n\t\t\t\t\t{\n\t\t\t\t\t\tname:\"设为置顶\",\n\t\t\t\t\t\tevent:\"setTop\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname:\"删除该聊天\",\n\t\t\t\t\t\tevent:\"delChat\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tlist:[]\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tuni.$on(\"JIMinit\",function(){\n\t\t\t\t_this.isLogin();\n\t\t\t})\n\t\t\tuni.$on(\"reInit\",function(){\n\t\t\t\t_this.isLogin();\n\t\t\t})\n\t\t\tuni.$on(\"get_index_msg\",function(){\n\t\t\t\t//获取会话列表\n\t\t\t\tJIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\tconsole.log('success:Conversation222222===========' + JSON.stringify(data));\n\t\t\t\t\t_this.list=data.conversations.reverse();\n\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\t\tonUnload(){\n\t\t\tuni.$off(\"get_index_msg\")\n\t\t\tuni.$off(\"JIMinit\")\n\t\t\tuni.$off(\"reInit\")\n\t\t},\n\t\tonShow() {\n\t\t\t_this= this;\n\t\t\t_this.isLogin()\n\t\t\tif(JIM.isLogin()){\n\t\t\t\t// uni.showLoading({\n\t\t\t\t// \ttitle:\"读取消息列表中...\"\n\t\t\t\t// })\n\t\t\t\t\n\t\t\t\t//获取会话列表\n\t\t\t\tJIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\tconsole.log('success:Conversation222222===========' + JSON.stringify(data));\n\t\t\t\t\t_this.list=data.conversations.reverse();\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t\t})\n\t\t\t\t});\n\n\t\t\t}else{\n\t\t\t\tconst value = uni.getStorageSync('setUserData');\n\t\t\t\tif (value) {\n\t\t\t\t\t//有登录信息\n\t\t\t\t\tconsole.log(\"已登录用户：\",value);\t\n\t\t\t\t\tif(JIM.isInit()){\n\t\t\t\t\t\t_this.login(value.username,value.password)\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar appkey='09970876f33e884a3624335c';\n\t\t\t\t\t\tvar random_str=\"NkSYvAH3yAw93dqdlto47G9A35xHv4Oa\";\n\t\t\t\t\t\tvar timestamp=(new Date()).getTime();\n\t\t\t\t\t\tvar signature;\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: 'http://117.83.152.39:8081/interconnect/appUser/getJMKey',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\"token\": 'e463192ddfad487682638189f64020b9',\n\t\t\t\t\t\t\t\t\"Content-Type\":\"application/json\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\ttimestamp:timestamp\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tsignature = res.data.result;\n\t\t\t\t\t\t\t\tconsole.log(signature)\n\t\t\t\t\t\t\t\tJIM.init({\n\t\t\t\t\t\t\t\t\t\t  \"appkey\"    : appkey,\n\t\t\t\t\t\t\t\t\t\t  \"random_str\": random_str,\n\t\t\t\t\t\t\t\t\t\t  \"signature\" : signature,\n\t\t\t\t\t\t\t\t\t\t  \"timestamp\" : timestamp,\n\t\t\t\t\t\t\t\t\t\t  \"flag\":1\n\t\t\t\t\t\t\t\t}).onSuccess(function(data) {\n\t\t\t\t\t\t\t\t\tconsole.log('Init-success:' + JSON.stringify(data));\t\n\t\t\t\t\t\t\t\t\t_this.login(value.username,value.password)\t\n\t\t\t\t\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\t\t\t\t    uni.showToast({\n\t\t\t\t\t\t\t\t    \t\"title\":getCodeMsg(data.code),\n\t\t\t\t\t\t\t\t    \t\"position\":\"bottom\"\n\t\t\t\t\t\t\t\t    })\t    \n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t},\n \t\tcomputed:{\n\t\t\t// 动态获取菜单高度\n\t\t\tgetMenusHeight(){\n\t\t\t\tlet H = 100\n\t\t\t\treturn this.menus.length * H\n\t\t\t},\n\t\t\t// 获取菜单的样式\n\t\t\tgetMenusStyle(){\n\t\t\t\treturn `height: ${this.getMenusHeight}rpx;`\n\t\t\t},\n\t\t\tisTop(){\n\t\t\t\treturn function(username){\n\t\t\t\t\tif(uni.getStorageSync(username+\"isTop\")){\n\t\t\t\t\t\treturn uni.getStorageSync(username+\"isTop\")\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\n\t\t},\n\t\tmethods: {\n\t\t\tlogin(username,password){\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:\"读取消息列表中...\"\n\t\t\t\t})\n\t\t\t\tJIM.login({\n\t\t\t\t    'username' :username,\n\t\t\t\t\t'password':password\n\t\t\t\t}).onSuccess(function(data) {\t\t\n\t\t\t\t\t\n\t\t\t\t    JIM.onMsgReceive(function(data) {\n\t\t\t\t\t\tconsole.log(\"在线========\"+JSON.stringify(data)+\"===================================\")\n\t\t\t\t\t\tfor(var i=0;i<data.messages.length;i++){\n\t\t\t\t\t\t\tvar content = data.messages[i].content;\n\t\t\t\t\t\t\tvar type = data.messages[i].msg_type;\n\t\t\t\t\t\t\tvar latest_msg,list,username,gid;\n\t\t\t\t\t\t\t// 分类型进行判断\n\t\t\t\t\t\t\tif(content.msg_type==\"text\"){\n\t\t\t\t\t\t\t\tlatest_msg = content.msg_body.text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(content.msg_type==\"image\"){\n\t\t\t\t\t\t\t\tlatest_msg = \"[图片]\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(content.msg_type==\"file\"){\n\t\t\t\t\t\t\t\tif(content.msg_body.extras.isAudio){\n\t\t\t\t\t\t\t\t\tlatest_msg = \"[语音]\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(content.msg_body.extras.isVideo){\n\t\t\t\t\t\t\t\t\tlatest_msg = \"[短视频]\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(\"============\"+latest_msg+\"+=============\")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(type==3){//如果是单聊消息\n\t\t\t\t\t\t\t\tusername = data.messages[i].from_username;\n\t\t\t\t\t\t\t\tlist = uni.getStorageSync(username);\t//获取该用户的聊天记录缓存\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//如果是文字 直接push\n\t\t\t\t\t\t\t\tif(content.msg_type==\"text\"){\n\t\t\t\t\t\t\t\t\tif(list){\n\t\t\t\t\t\t\t\t\t\tlist.push(content);\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"======文字push\")\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(username,list);\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}else{//否则，需要查询资源url并进行替换\n\t\t\t\t\t\t\t\t\tJIM.getResource({\n\t\t\t\t\t\t\t\t\t\t'media_id' : content.msg_body.media_id,\n\t\t\t\t\t\t\t\t\t}).onSuccess(function(data) {\n\t\t\t\t\t\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\t\t\t\t\t\turl: data.url,\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.statusCode === 200) {\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttempFilePath: res.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar savedFilePath = plus.io.convertLocalFileSystemURL(res.savedFilePath);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.msg_body.media_id=savedFilePath;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(list){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist.push(content);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"===============资源push\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(username,list);\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.$emit('get_chat_msg',{})//通知单聊页面刷新获取数据\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\t\n\t\t\t\t\t\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t\t\t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t});\t\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconsole.log(\"==========latest_mgs\"+latest_msg)\n\t\t\t\t\t\t\t\tJIM.updateConversation({\n\t\t\t\t\t\t\t\t   'username' : username,\n\t\t\t\t\t\t\t\t   'extras' : {'latest_msg':latest_msg}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t}else if(type==4){//如果是群聊消息\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tgid = data.messages[i].from_gid;\n\t\t\t\t\t\t\t\tconsole.log(\"==============\"+gid)\n\t\t\t\t\t\t\t\tconsole.log(\"group\"+gid)\n\t\t\t\t\t\t\t\tlist = uni.getStorageSync(\"group\"+gid); //获取该群聊的聊天记录缓存\n\t\t\t\t\t\t\t\tconsole.log(list)\n\t\t\t\t\t\t\t\t//如果是文字 直接push\n\t\t\t\t\t\t\t\tif(content.msg_type==\"text\"){\n\t\t\t\t\t\t\t\t\tif(list){\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"hhh\")\n\t\t\t\t\t\t\t\t\t\tlist.push(content);\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"group\"+gid,list);\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}else{//否则，需要查询资源url并进行替换\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tJIM.getResource({\n\t\t\t\t\t\t\t\t\t\t'media_id' : content.msg_body.media_id,\n\t\t\t\t\t\t\t\t\t}).onSuccess(function(data) {\n\t\t\t\t\t\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\t\t\t\t\t\turl: data.url,\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.statusCode === 200) {\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttempFilePath: res.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar savedFilePath = plus.io.convertLocalFileSystemURL(res.savedFilePath);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.msg_body.media_id=savedFilePath;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(list){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist.push(content);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"group\"+gid,list);\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"push通知========================\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.$emit('get_group_msg',{})//通知群聊页面属性获取数据\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\t\t\n\t\t\t\t\t\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t\t\t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t});\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tJIM.updateConversation({\n\t\t\t\t\t\t\t\t   'gid' : gid,\n\t\t\t\t\t\t\t\t   'extras' : {'latest_msg':latest_msg}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log(\"主页通知。。。。。。。。。。。。。。。。\")\n\t\t\t\t\t\tuni.$emit('get_index_msg',{})\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(type==3){\n\t\t\t\t\t\t\tconsole.log(\"通知333333333333333333\")\n\t\t\t\t\t\t\tuni.$emit('get_chat_msg',{})//通知单聊页面刷新获取数据\n\t\t\t\t\t\t}else if(type==4){\n\t\t\t\t\t\t\tconsole.log(\"通知444444444444444444444444\")\n\t\t\t\t\t\t\tuni.$emit('get_group_msg',{})//通知群聊页面属性获取数据\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t    });\n\t\t\t\t\t\n\t\t\t\t    JIM.onEventNotification(function(data) {\n\t\t\t\t        console.log('event_receive: ' + JSON.stringify(data));\n\t\t\t\t    });\n\t\t\t\t\t\n\t\t\t\t\tJIM.onSyncConversation(function(data) { //离线消息同步监听\n\t\t\t\t\t\tconsole.log(\"SSSSSSSSSSSSSSSSSS\"+JSON.stringify(data))\n\t\t\t\t        for(var i=0;i<data.length;i++){\n\t\t\t\t        \tvar latest_msg;\n\t\t\t\t        \tvar last_content= data[i].msgs[data[i].msgs.length-1].content;\n\t\t\t\t        \t// 分类型进行判断\n\t\t\t\t        \tif(last_content.msg_type==\"text\"){\n\t\t\t\t        \t\tlatest_msg = last_content.msg_body.text;\n\t\t\t\t        \t}\n\t\t\t\t        \tif(last_content.msg_type==\"image\"){\n\t\t\t\t        \t\tlatest_msg = \"[图片]\"\n\t\t\t\t        \t}\n\t\t\t\t        \tif(last_content.msg_type==\"file\"){\n\t\t\t\t        \t\tif(last_content.msg_body.extras.isAudio){\n\t\t\t\t        \t\t\tlatest_msg = \"[语音]\"\n\t\t\t\t        \t\t}\n\t\t\t\t        \t\tif(last_content.msg_body.extras.isVideo){\n\t\t\t\t        \t\t\tlatest_msg = \"[短视频]\"\n\t\t\t\t        \t\t}\n\t\t\t\t        \t}\n\t\t\t\t        \t\n\t\t\t\t        \t\n\t\t\t\t        \tif(data[i].msg_type==3){//如果是单聊\n\t\t\t\t        \t\tvar username = data[i].from_username\n\t\t\t\t        \t\tvar list = uni.getStorageSync(username);//获取该对象的聊天记录\n\t\t\t\t        \t\t\n\t\t\t\t        \t\t//遍历该用户的消息\n\t\t\t\t        \t\tfor(var j=0;j<data[i].msgs.length;j++){\n\t\t\t\t        \t\t\tvar content = data[i].msgs[j].content;\n\t\t\t\t        \t\t\tif(content.msg_type==\"text\"){//如果是文字直接push\n\t\t\t\t        \t\t\t\tif(list){\n\t\t\t\t        \t\t\t\t\tlist.push(content);\n\t\t\t\t        \t\t\t\t\tuni.setStorageSync(username,list);\t\n\t\t\t\t        \t\t\t\t}\n\t\t\t\t        \t\t\t}else{//或者还要获取资源url进行替换\n\t\t\t\t        \t\t\t\tJIM.getResource({\n\t\t\t\t        \t\t\t\t\t'media_id' : content.msg_body.media_id,\n\t\t\t\t        \t\t\t\t}).onSuccess(function(data) {\n\t\t\t\t\t\t\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\t\t\t\t\t\t\turl: data.url,\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.statusCode === 200) {\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttempFilePath: res.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar savedFilePath = plus.io.convertLocalFileSystemURL(res.savedFilePath);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.msg_body.media_id=savedFilePath;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(list){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist.push(content);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(username,list);\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\t\n\t\t\t\t        \t\t\t\t}).onFail(function(data) {\n\t\t\t\t        \t\t\t\t\tuni.showToast({\n\t\t\t\t        \t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t        \t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t        \t\t\t\t\t})\n\t\t\t\t        \t\t\t\t});\n\t\t\t\t        \t\t\t}\n\t\t\t\t        \t\t}\t\n\t\t\t\t        \t\t//更新会话，将最后一条消息存入\n\t\t\t\t        \t\tJIM.updateConversation({\n\t\t\t\t        \t\t 'username' : username,\n\t\t\t\t        \t\t 'extras' : {'latest_msg':latest_msg}\n\t\t\t\t        \t\t});\t \n\t\t\t\t        \t}else if(data[i].msg_type==4){//如果是群聊\n\t\t\t\t        \t\tvar gid = data[i].from_gid\n\t\t\t\t        \t\tvar list = uni.getStorageSync(\"group\"+gid);//获取该对象的聊天记录\n\t\t\t\t        \t\t\n\t\t\t\t        \t\t//遍历该群的消息\n\t\t\t\t        \t\tfor(var j=0;j<data[i].msgs.length;j++){\n\t\t\t\t        \t\t\tvar content = data[i].msgs[j].content;\n\t\t\t\t        \t\t\tif(content.msg_type==\"text\"){//如果是文字直接push\n\t\t\t\t        \t\t\t\tif(list){\n\t\t\t\t        \t\t\t\t\tlist.push(content);\n\t\t\t\t        \t\t\t\t\tuni.setStorageSync(\"group\"+gid,list);\t\n\t\t\t\t        \t\t\t\t}\n\t\t\t\t        \t\t\t}else{//或者不是文字还要获取资源url进行替换\n\t\t\t\t        \t\t\t\tJIM.getResource({\n\t\t\t\t        \t\t\t\t\t'media_id' : content.msg_body.media_id,\n\t\t\t\t        \t\t\t\t}).onSuccess(function(data) {\n\t\t\t\t        \t\t\t\t\tuni.downloadFile({\n\t\t\t\t        \t\t\t\t\t\turl: data.url,\n\t\t\t\t        \t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t        \t\t\t\t\t\t\tif (res.statusCode === 200) {\t\n\t\t\t\t        \t\t\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t        \t\t\t\t\t\t\t\t\ttempFilePath: res.tempFilePath,\n\t\t\t\t        \t\t\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t        \t\t\t\t\t\t\t\t\t\tvar savedFilePath = plus.io.convertLocalFileSystemURL(res.savedFilePath);\n\t\t\t\t        \t\t\t\t\t\t\t\t\t\tcontent.msg_body.media_id=savedFilePath;\n\t\t\t\t        \t\t\t\t\t\t\t\t\t\tif(list){\n\t\t\t\t        \t\t\t\t\t\t\t\t\t\t\tlist.push(content);\n\t\t\t\t        \t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"group\"+gid,list);\t\n\t\t\t\t        \t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t        \t\t\t\t\t\t\t\t\t}\n\t\t\t\t        \t\t\t\t\t\t\t\t});\n\t\t\t\t        \t\t\t\t\t\t\t}\n\t\t\t\t        \t\t\t\t\t\t}\n\t\t\t\t        \t\t\t\t\t}); \n\t\t\t\t        \t\t\t\t}).onFail(function(data) {\n\t\t\t\t        \t\t\t\t\tuni.showToast({\n\t\t\t\t        \t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t        \t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t        \t\t\t\t\t})\n\t\t\t\t        \t\t\t\t});\n\t\t\t\t        \t\t\t}\n\t\t\t\t        \t\t}\t\n\t\t\t\t        \t\t//更新会话，将最后一条消息存入\n\t\t\t\t        \t\tJIM.updateConversation({\n\t\t\t\t        \t\t 'gid' : gid,\n\t\t\t\t        \t\t 'extras' : {'latest_msg':latest_msg}\n\t\t\t\t        \t\t});\t \n\t\t\t\t        \t}\n\t\t\t\t        \n\t\t\t\t        }\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar conversationTimer = setTimeout(()=>{\n\t\t\t\t\t\t\t//获取会话列表\n\t\t\t\t\t\t\tJIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\t\t\t\tconsole.log('success:Conversation3333===========' + JSON.stringify(data));\n\t\t\t\t\t\t\t\t_this.list=data.conversations.reverse();\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\t\t\t\tconsole.log('error:' + JSON.stringify(data));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tclearTimeout(conversationTimer)\n\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\n\t\t\t\t    });\n\t\t\t\t\t\n\t\t\t\t    JIM.onUserInfUpdate(function(data) {\n\t\t\t\t        console.log('onUserInfUpdate : ' + JSON.stringify(data));\n\t\t\t\t    });\n\t\t\t\t\t \n\t\t\t\t    JIM.onSyncEvent(function(data) {\n\t\t\t\t        console.log('onSyncEvent : ' + JSON.stringify(data));\n\t\t\t\t    });\n\t\t\t\t\t\n\t\t\t\t\tJIM.onMsgReceiptChange(function(data){\n\t\t\t\t\t    console.log('onMsgReceiptChange : ' + JSON.stringify(data));\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tJIM.onSyncMsgReceipt(function(data){\n\t\t\t\t\t    console.log('onSyncMsgReceipt : ' + JSON.stringify(data));\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tJIM.onMutiUnreadMsgUpdate(function(data){\n\t\t\t\t\t    console.log('onConversationUpdate : ' + JSON.stringify(data));\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t    JIM.onTransMsgRec(function(data){\n\t\t\t\t\t    console.log('onTransMsgRec : ' + JSON.stringify(data));\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tJIM.onRoomMsg (function(data){\n\t\t\t\t\t    console.log('onRoomMsg  : ' + JSON.stringify(data));\n\t\t\t\t\t});\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t//获取会话列表\n\t\t\t\t\tJIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\t\tconsole.log('success:Conversation===========' + JSON.stringify(data));\n\t\t\t\t\t\t_this.list=data.conversations.reverse();\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}).onFail(function(data) {\n\t\t\t\t     console.log('error:' + JSON.stringify(data));\n\t\t\t\t\t uni.showToast({\n\t\t\t\t\t \ticon: 'none',\n\t\t\t\t\t \tposition: 'bottom',\n\t\t\t\t\t \ttitle: getCodeMsg(data.code)\n\t\t\t\t\t });\t\t\t\t\t \n\t\t\t\t}).onTimeout(function(data) {\n\t\t\t\t    console.log('timeout:' + JSON.stringify(data));\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\t\ttitle: '登录超时！'\n\t\t\t\t\t});\t\t\t\t\t\n\t\t\t\t});\t\t\n\t\t\t},\n\t\t\tisLogin(){\n\t\t\t\t//判断缓存中是否登录过，直接登录\n\t\t\t\ttry {\n\t\t\t\t\tconst value = uni.getStorageSync('setUserData');\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\t//有登录信息\n\t\t\t\t\t\tconsole.log(\"已登录用户：\",value);\t\n\t\t\t\t\t\tif(!JIM.isLogin()){\n\t\t\t\t\t\t\t_this.login(value.username,value.password)\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\turl: '../../login/login',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// error\n\t\t\t\t} \n\t\t\t},\n\t\t\tlong({x,y,index}){\n\t\t\t\t// 初始化 索引\n\t\t\t\tthis.propIndex = index\n\t\t\t\t// 拿到当前对象\n\t\t\t\tlet item = this.list[index]\n\t\t\t\tif(item.type==3){\n\t\t\t\t\tvar isTop = uni.getStorageSync(item.username+\"isTop\")||false;\n\t\t\t\t\t// 判断之前是否处于置顶状态\n\t\t\t\t\tthis.menus[0].name = isTop ? '取消置顶' : '设为置顶'\n\t\t\t\t}else if(item.type==4){\n\t\t\t\t\tvar isTop = uni.getStorageSync(item.gid+\"isTop\")||false;\n\t\t\t\t\t// 判断之前是否处于置顶状态\n\t\t\t\t\tthis.menus[0].name = isTop ? '取消置顶' : '设为置顶'\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.$refs.extend.show(x,y)\n\t\t\t},\n\t\t\t// 分发菜单事件\n\t\t\tclickEvent(event){\n\t\t\t\tswitch (event){\n\t\t\t\t\tcase \"setTop\": // 置顶/取消置顶会话\n\t\t\t\t\tthis.setTop()\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"delChat\": // 删除当前会话\n\t\t\t\t\tthis.delChat()\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.$refs.extend.hide()\n\t\t\t},\n\t\t\t// 删除当前会话\n\t\t\tdelChat(){\n\t\t\t\tlet item = this.list[this.propIndex]\n\t\t\t\tthis.list.splice(this.propIndex,1)\n\t\t\t\tif(item.type==3){\n\t\t\t\t\tJIM.updateConversation({\n\t\t\t\t\t   'username' : item.username,\n\t\t\t\t\t   'extras' : {'del':true}\n\t\t\t\t\t});\n\t\t\t\t}else if(item.type==4){\n\t\t\t\t\tJIM.updateConversation({\n\t\t\t\t\t   'gid' : item.gid,\n\t\t\t\t\t   'extras' : {'del':true}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\t// 置顶/取消置顶会话\n\t\t\tsetTop(){\n\t\t\t\tlet item = this.list[this.propIndex]\n\t\t\t\tif(item.type==3){\n\t\t\t\t\tvar isTop = uni.getStorageSync(item.username+\"isTop\")||false;\n\t\t\t\t\tuni.setStorageSync(item.username+\"isTop\",!isTop);\n\t\t\t\t\t//获取会话列表\n\t\t\t\t\tJIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\t\tconsole.log('success:Conversation222222===========' + JSON.stringify(data));\n\t\t\t\t\t\t_this.list=data.conversations.reverse();\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}else if(item.type==4){\n\t\t\t\t\tvar isTop = uni.getStorageSync(item.gid+\"isTop\")||false;\n\t\t\t\t\tuni.setStorageSync(item.gid+\"isTop\",!isTop);\n\t\t\t\t\t//获取会话列表\n\t\t\t\t\tJIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\t\tconsole.log('success:Conversation222222===========' + JSON.stringify(data));\n\t\t\t\t\t\t_this.list=data.conversations.reverse();\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\"title\":getCodeMsg(data.code),\n\t\t\t\t\t\t\t\"position\":\"bottom\"\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}