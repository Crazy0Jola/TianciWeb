{"version":3,"sources":["webpack:///E:/天赐/TianciWeb/main.js","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?e66e","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?51ff","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?a9a7","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?10b3","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?0461","webpack:///E:/天赐/TianciWeb/pages/tabbar/index/index.nvue?7c9c"],"names":["createPage","Page","_this","JIM","getApp","globalData","components","freeNavBar","freeMediaList","freePopup","data","propIndex","menus","name","event","list","onLoad","onShow","isLogin","getConversation","onSuccess","console","log","JSON","stringify","conversations","uni","hideLoading","onFail","value","getStorageSync","login","username","password","computed","getMenusHeight","H","length","getMenusStyle","mounted","$on","methods","showLoading","title","onMsgReceive","i","messages","updateConversation","content","from_id","msg_body","text","$emit","onEventNotification","onSyncConversation","onUserInfUpdate","onSyncEvent","onMsgReceiptChange","onSyncMsgReceipt","onMutiUnreadMsgUpdate","onTransMsgRec","onRoomMsg","showToast","icon","position","code","onTimeout","reLaunch","url","e","long","x","y","index","item","extras","istop","$refs","extend","show","clickEvent","setTop","delChat","hide","splice"],"mappings":"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","file":"pages/tabbar/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/tabbar/index/index.nvue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./index.nvue?vue&type=template&id=db26057c&\"\nimport script from \"./index.nvue?vue&type=script&lang=js&\"\nexport * from \"./index.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./index.nvue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('db26057c', component.options)\n    } else {\n      api.reload('db26057c', component.options)\n    }\n    module.hot.accept(\"./index.nvue?vue&type=template&id=db26057c&\", function () {\n      api.rerender('db26057c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"天赐/TianciWeb/pages/tabbar/index/index.nvue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=template&id=db26057c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport freeNavBar from \"@/components/free-ui/free-nav-bar.vue\"\n\timport freeMediaList from \"@/components/free-ui/free-media-list.vue\"\n\t\n\timport freePopup from \"@/components/free-ui/free-popup.vue\"\n\timport getCodeMsg from \"@/js_sdk/ErrorCode.js\"\n\t\n\tvar _this;\n\tvar JIM=getApp().globalData.JIM;\n\t\n\texport default {\n\t\tcomponents:{\n\t\t\tfreeNavBar,\n\t\t\tfreeMediaList,\n\t\t\tfreePopup\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpropIndex:-1,\n\t\t\t\tmenus:[\n\t\t\t\t\t{\n\t\t\t\t\t\tname:\"设为置顶\",\n\t\t\t\t\t\tevent:\"setTop\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname:\"删除该聊天\",\n\t\t\t\t\t\tevent:\"delChat\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tlist:[]\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\n\t\t},\n\t\tonShow() {\n\t\t\t_this= this;\n\t\t\tif(JIM.isLogin()){\n\t\t\t\t// uni.showLoading({\n\t\t\t\t// \ttitle:\"读取消息列表中...\"\n\t\t\t\t// })\n\t\t\t\t//获取会话列表\n\t\t\t\tJIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\tconsole.log('success:Conversation222222===========' + JSON.stringify(data));\n\t\t\t\t\t_this.list=data.conversations;\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\tconsole.log('error:' + JSON.stringify(data));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tconst value = uni.getStorageSync('setUserData');\n\t\t\t\tif (value) {\n\t\t\t\t\t//有登录信息\n\t\t\t\t\tconsole.log(\"已登录用户：\",value);\t\n\t\t\t\t\t_this.login(value.username,value.password)\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t},\n \t\tcomputed:{\n\t\t\t// 动态获取菜单高度\n\t\t\tgetMenusHeight(){\n\t\t\t\tlet H = 100\n\t\t\t\treturn this.menus.length * H\n\t\t\t},\n\t\t\t// 获取菜单的样式\n\t\t\tgetMenusStyle(){\n\t\t\t\treturn `height: ${this.getMenusHeight}rpx;`\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t_this= this;\n\t\t\tuni.$on(\"JIMinit\",function(){\n\t\t\t\tconsole.log(\"hhhhhhhhhhhhhhhJIMinit\")\n\t\t\t\t_this.isLogin();\n\t\t\t})\n\t\t\tuni.$on(\"reInit\",function(){\n\t\t\t\tconsole.log(\"zzzzzzzzzzzzzreInit\")\n\t\t\t\t_this.isLogin();\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\tlogin(username,password){\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:\"读取消息列表中...\"\n\t\t\t\t})\n\t\t\t\tJIM.login({\n\t\t\t\t    'username' :username,\n\t\t\t\t\t'password':password\n\t\t\t\t}).onSuccess(function(data) {\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t    JIM.onMsgReceive(function(data) {\n\t\t\t\t\t\tfor(var i=0;i<data.messages.length;i++){\n\t\t\t\t\t\t\t// 分类型进行判断\n\t\t\t\t\t\t\tJIM.updateConversation({\n\t\t\t\t\t\t\t   'username' : data.messages[i].content.from_id,\n\t\t\t\t\t\t\t   'extras' : {'istop':false,'del':false,'latest_msg':data.messages[i].content.msg_body.text}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t        data = JSON.stringify(data);\t\t\t\t\t\t\n\t\t\t\t        console.log('msg_receive:' + data);\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.$emit('get_msg',data.messages)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// //获取会话列表\n\t\t\t\t\t\t// JIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\t\t// \tconsole.log('success:Conversation===========' + JSON.stringify(data));\n\t\t\t\t\t\t// \t_this.list=data.conversations;\n\t\t\t\t\t\t// \tconsole.log(_this.list)\n\t\t\t\t\t\t// \tuni.hideLoading()\n\t\t\t\t\t\t// }).onFail(function(data) {\n\t\t\t\t\t\t// \tconsole.log('error:' + JSON.stringify(data));\n\t\t\t\t\t\t// });\n\t\t\t\t    });\n\t\t\t\t\t\n\t\t\t\t    JIM.onEventNotification(function(data) {\n\t\t\t\t        console.log('event_receive: ' + JSON.stringify(data));\n\t\t\t\t    });\n\t\t\t\t\t\n\t\t\t\t\tJIM.onSyncConversation(function(data) { //离线消息同步监听\n\t\t\t\t        console.log( data+\"zzzzzzzzzzzzzzzzzzzz\");\n\t\t\t\t    });\n\t\t\t\t\t\n\t\t\t\t    JIM.onUserInfUpdate(function(data) {\n\t\t\t\t        console.log('onUserInfUpdate : ' + JSON.stringify(data));\n\t\t\t\t    });\n\t\t\t\t\t \n\t\t\t\t    JIM.onSyncEvent(function(data) {\n\t\t\t\t        console.log('onSyncEvent : ' + JSON.stringify(data));\n\t\t\t\t    });\n\t\t\t\t\t\n\t\t\t\t\tJIM.onMsgReceiptChange(function(data){\n\t\t\t\t\t    console.log('onMsgReceiptChange : ' + JSON.stringify(data));\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tJIM.onSyncMsgReceipt(function(data){\n\t\t\t\t\t    console.log('onSyncMsgReceipt : ' + JSON.stringify(data));\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tJIM.onMutiUnreadMsgUpdate(function(data){\n\t\t\t\t\t    console.log('onConversationUpdate : ' + JSON.stringify(data));\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t    JIM.onTransMsgRec(function(data){\n\t\t\t\t\t    console.log('onTransMsgRec : ' + JSON.stringify(data));\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tJIM.onRoomMsg (function(data){\n\t\t\t\t\t    console.log('onRoomMsg  : ' + JSON.stringify(data));\n\t\t\t\t\t});\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t//获取会话列表\n\t\t\t\t\tJIM.getConversation().onSuccess(function(data) {\n\t\t\t\t\t\tconsole.log('success:Conversation===========' + JSON.stringify(data));\n\t\t\t\t\t\t_this.list=data.conversations;\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t}).onFail(function(data) {\n\t\t\t\t\t\tconsole.log('error:' + JSON.stringify(data));\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}).onFail(function(data) {\n\t\t\t\t     console.log('error:' + JSON.stringify(data));\n\t\t\t\t\t uni.showToast({\n\t\t\t\t\t \ticon: 'none',\n\t\t\t\t\t \tposition: 'bottom',\n\t\t\t\t\t \ttitle: getCodeMsg(data.code)\n\t\t\t\t\t });\t\t\t\t\t \n\t\t\t\t}).onTimeout(function(data) {\n\t\t\t\t    console.log('timeout:' + JSON.stringify(data));\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\t\ttitle: '登录超时！'\n\t\t\t\t\t});\t\t\t\t\t\n\t\t\t\t});\t\t\n\t\t\t},\n\t\t\tisLogin(){\n\t\t\t\t//判断缓存中是否登录过，直接登录\n\t\t\t\ttry {\n\t\t\t\t\tconst value = uni.getStorageSync('setUserData');\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\t//有登录信息\n\t\t\t\t\t\tconsole.log(\"已登录用户：\",value);\t\n\t\t\t\t\t\t_this.login(value.username,value.password)\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\turl: '../../login/login',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// error\n\t\t\t\t} \n\t\t\t},\n\t\t\tlong({x,y,index}){\n\t\t\t\t// 初始化 索引\n\t\t\t\tthis.propIndex = index\n\t\t\t\t// 拿到当前对象\n\t\t\t\tlet item = this.list[index]\n\t\t\t\t// 判断之前是否处于置顶状态\n\t\t\t\tthis.menus[0].name = item.extras.istop ? '取消置顶' : '设为置顶'\n\t\t\t\t\n\t\t\t\tthis.$refs.extend.show(x,y)\n\t\t\t},\n\t\t\t// 分发菜单事件\n\t\t\tclickEvent(event){\n\t\t\t\tswitch (event){\n\t\t\t\t\tcase \"setTop\": // 置顶/取消置顶会话\n\t\t\t\t\tthis.setTop()\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"delChat\": // 删除当前会话\n\t\t\t\t\tthis.delChat()\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.$refs.extend.hide()\n\t\t\t},\n\t\t\t// 删除当前会话\n\t\t\tdelChat(){\n\t\t\t\tlet item = this.list[this.propIndex]\n\t\t\t\tthis.list.splice(this.propIndex,1)\n\t\t\t\tJIM.updateConversation({\n\t\t\t\t   'username' : item.username,\n\t\t\t\t   'extras' : {'del':true}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 置顶/取消置顶会话\n\t\t\tsetTop(){\n\t\t\t\tlet item = this.list[this.propIndex]\n\t\t\t\titem.extras.istop = !item.extras.istop\n\t\t\t\tJIM.updateConversation({\n\t\t\t\t   'username' : item.username,\n\t\t\t\t   'extras' : {'istop':item.extras.istop}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}