(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/find/moments/moments"],{"2ba9":function(t,n,e){},"4d89":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement;t._self._c},s=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return s})},5190:function(t,n,e){"use strict";var i=e("2ba9"),s=e.n(i);s.a},"5fba":function(t,n,e){"use strict";(function(t){e("68ca"),e("921b");i(e("66fd"));var n=i(e("b4da"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},"7abb":function(t,n,e){"use strict";(function(t,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=o(e("5d35"));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){return e.e("components/im-chat/chatinput").then(e.bind(null,"6795"))},a={components:{chatInput:u},data:function(){return{posts:s.default,user_id:4,username:"Liuxy",index:"",comment_index:"",input_placeholder:"评论",focus:!1,is_reply:!1,showInput:!1,screenHeight:"",platform:"",windowHeight:"",loadMoreText:"加载中...",showLoadMore:!1}},mounted:function(){t.getStorage({key:"posts",success:function(t){console.log(i(t.data," at pages\\find\\moments\\moments.vue:95")),this.posts=t.data}})},onLoad:function(){var n=this;t.getSystemInfo({success:function(t){n.screenHeight=t.screenHeight,n.platform=t.platform}}),t.startPullDownRefresh()},onShow:function(){var n=this;t.onWindowResize(function(t){"ios"===n.platform?(n.windowHeight=t.size.windowHeight,n.adjust()):n.screenHeight-t.size.windowHeight>60&&n.windowHeight<=t.size.windowHeight&&(n.windowHeight=t.size.windowHeight,n.adjust())})},onHide:function(){t.offWindowResize()},onUnload:function(){this.max=0,this.data=[],this.loadMoreText="加载更多",this.showLoadMore=!1},onReachBottom:function(){var t=this;console.log(i("onReachBottom"," at pages\\find\\moments\\moments.vue:133")),this.showLoadMore=!0,setTimeout(function(){t.posts.length<20?t.posts=t.posts.concat(t.posts):t.loadMoreText="暂无更多"},1e3)},onPullDownRefresh:function(){console.log(i("onPullDownRefresh"," at pages\\find\\moments\\moments.vue:145")),setTimeout(function(){t.stopPullDownRefresh()},1e3)},onNavigationBarButtonTap:function(t){0==t.index&&this.navigateTo("../publish/publish")},computed:{},methods:{test:function(){this.navigateTo("../test/test")},navigateTo:function(n){t.navigateTo({url:n})},like:function(t){0===this.posts[t].islike?(this.posts[t].islike=1,this.posts[t].like.push({uid:this.user_id,username:","+this.username})):(this.posts[t].islike=0,this.posts[t].like.splice(this.posts[t].like.indexOf({uid:this.user_id,username:","+this.username}),1))},comment:function(t){this.showInput=!0,this.focus=!0,this.index=t},adjust:function(){},reply:function(t,n){this.is_reply=!0,this.showInput=!0;var e=this.posts[t].comments.comment[n].username;this.input_placeholder="回复"+e,this.index=t,this.comment_index=n,this.focus=!0},blur:function(){this.init_input()},send_comment:function(t){if(this.is_reply)var n=this.posts[this.index].comments.comment[this.comment_index].username,e="回复"+n+":"+t.content;else e=t.content;this.posts[this.index].comments.total+=1,this.posts[this.index].comments.comment.push({uid:this.user_id,username:this.username,content:e}),this.init_input()},init_input:function(){this.showInput=!1,this.focus=!1,this.input_placeholder="评论",this.is_reply=!1},previewImage:function(n,e){var i=n[e];t.previewImage({current:i,urls:n})},goPublish:function(){t.navigateTo({url:"./publish/publish",success:function(t){},fail:function(){},complete:function(){}})}}};n.default=a}).call(this,e("6e42")["default"],e("0de9")["default"])},"86d9":function(t,n,e){"use strict";e.r(n);var i=e("7abb"),s=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=s.a},b4da:function(t,n,e){"use strict";e.r(n);var i=e("4d89"),s=e("86d9");for(var o in s)"default"!==o&&function(t){e.d(n,t,function(){return s[t]})}(o);e("5190");var u=e("2877"),a=Object(u["a"])(s["default"],i["a"],i["b"],!1,null,"2582c52f",null);n["default"]=a.exports}},[["5fba","common/runtime","common/vendor"]]]);